@MCP.tool("executive_summary_generator_tool")      # MCP registration
@tool("executive_summary_generator_tool", return_direct=True)
def executive_summary_generator_tool(validated_report: str, target_length: int = 150) -> str:
    """
    Generates a concise executive summary highlighting the most critical insights,
    statistics, and recommendations from validated research data.

    Args:
        validated_report (str): The full validated content or structured report text.
        target_length (int): Desired word limit for the summary (default: 150 words).

    Returns:
        str: A polished executive summary paragraph suitable for publication or presentation.
    """

    prompt = f"""
    You are the Executive Summary Engine.

    Your task is to produce a clear, professional executive summary
    based on the validated research report below.

    ---
    Report Content:
    {validated_report}
    ---

    ### Instructions:
    - Focus on the **main insights**, **quantitative highlights**, and **key conclusions**.
    - Maintain a **neutral, academic tone** suitable for professional reports.
    - Include up to 4 concise sentences, ~{target_length} words total.
    - Avoid repeating headings or listing all sections.
    - Conclude with a short forward-looking or recommendation statement.

    Format the output as plain text, no markdown or bullets.
    """

    response = llm.invoke(prompt).content.strip()

    return f"ðŸª¶ **Executive Summary:**\n\n{response}"
