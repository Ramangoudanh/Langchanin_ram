from langchain.agents import initialize_agent, AgentType
from langchain.chat_models import ChatOpenAI
from langgraph.middleware import SummarizationMiddleware

# your LLM and tools
llm = ChatOpenAI(model="gpt-4o")
tools = []  # your tools list

# custom + prebuilt middleware
middlewares = [
    CustomLoggerMiddleware(),
    SummarizationMiddleware(max_summary_tokens=200)
]

agent = initialize_agent(
    tools=tools,
    llm=llm,
    agent_type=AgentType.ZERO_SHOT_REACT_DESCRIPTION,
    middleware=middlewares,   # ðŸ‘ˆ pass list here
    verbose=True
)
